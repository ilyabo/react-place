!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactPlace=e()}}(function(){return function e(t,n,i){function o(u,s){if(!n[u]){if(!t[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(r)return r(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=window.React,a=i(l),c=window.ReactDOM,f=i(c),p=e("awesomplete"),h=i(p),d=e("promise-polyfill"),v=i(d),m=e("./vendor/google"),y=i(m),g="Unrecognized {{value}}, please check and re-enter.",b=function(){var e=arguments;return function(t){for(var n=e.length-1;n>=0;n--)t=e[n].call(this,t);return t}},_=function(e){function t(e){o(this,t);var n=r(this,Object.getPrototypeOf(t).call(this,e));return n._handleAutocompleteSelect=n._handleAutocompleteSelect.bind(n),n._handleInputChange=n._handleInputChange.bind(n),n._handleInputFocus=n._handleInputFocus.bind(n),n}return u(t,e),s(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.text;null!=t&&t!=this._getInputValue()&&this.updateText(t)}},{key:"updateText",value:function(e){f["default"].findDOMNode(this).value=e}},{key:"render",value:function(){return a["default"].createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder||"Type your location here."})}},{key:"componentWillMount",value:function(){this._googlePredictions=[],this._noMatching=this.props.noMatching||g}},{key:"componentDidMount",value:function(){var e,t={minChars:1,keepListItems:!1,sort:function(){return 0},item:function(e,t){return h["default"].$.create("li",{innerHTML:e.replace(RegExp(h["default"].$.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})}};e=f["default"].findDOMNode(this),this._autocomplete=new h["default"](e,t),null!=this.props.text&&this.updateText(this.props.text),e.addEventListener("awesomplete-selectcomplete",this._handleAutocompleteSelect),e.addEventListener("keyup",this._handleInputChange),e.addEventListener("focus",this._handleInputFocus)}},{key:"componentWillUnmount",value:function(){input.removeEventListener("awesomplete-selectcomplete",this._handleAutocompleteSelect),input.removeEventListener("keyup",this._handleInputChange),input.removeEventListener("focus",this._handleInputFocus)}},{key:"_handleInputFocus",value:function(e){var t=f["default"].findDOMNode(this);t.select()}},{key:"_handleInputChange",value:function(e){var t=this,n=this._getInputValue(),i=b(this._autocomplete.evaluate.bind(this._autocomplete),function(e){return t._autocomplete.list=e},function(e){return e.map(function(e){return e.description})},function(e){return t._googlePredictions=e}),o=b(i,function(e){return[{description:e}]},function(e){return t._noMatching.replace("{{value}}",e)}),r=[38,40,13,27],u=r.indexOf(e.keyCode)>=0;u||this._getPredictions(n).then(i,o)}},{key:"_handleAutocompleteSelect",value:function(){var e=this,t=this._getInputValue(),n=function(e){var n=e.filter(function(e){return e.description===t});return n.length>0?n[0]:!1},i=function(e){return e&&e.place_id?e.place_id:!1},o=b(i,n),r=function(t){e.props.onLocationSet&&e.props.onLocationSet(t)};this._geoCode(o(this._googlePredictions)).then(r)}},{key:"_getInputValue",value:function(){return f["default"].findDOMNode(this).value}},{key:"_getPredictions",value:function(e){var t=this.props,n=t.country,i=t.bounds,o=t.type,r=(this.props.google||y["default"]).createAutocompleteService(),u=!!e;return u?new v["default"](function(t,u){r.getPlacePredictions({input:e,bounds:i,componentRestrictions:n?{country:n}:null,types:o?[o]:null},function(n){null!==n?t(n):u(e)})}):new v["default"](function(e,t){})}},{key:"_geoCode",value:function(e){var t=(this.props.google||y["default"]).createGeocoder();return new v["default"](function(n,i){t.geocode({placeId:e},function(e,t){"OK"===t&&e&&e.length>0?n(e[0]):i(!1)})})}}]),t}(a["default"].Component);n["default"]=_,_.propTypes={onLocationSet:a["default"].PropTypes.func,className:a["default"].PropTypes.string,text:a["default"].PropTypes.string,placeholder:a["default"].PropTypes.string,type:a["default"].PropTypes.string,bounds:a["default"].PropTypes.shape({east:a["default"].PropTypes.number,west:a["default"].PropTypes.number,north:a["default"].PropTypes.number,south:a["default"].PropTypes.number}),country:a["default"].PropTypes.string,noMatching:a["default"].PropTypes.string,google:a["default"].PropTypes.object},t.exports=n["default"]},{"./vendor/google":2,awesomplete:3,"promise-polyfill":4}],2:[function(e,t,n){(function(e){"use strict";function i(){return new e.google.maps.places.AutocompleteService}function o(){return new e.google.maps.Geocoder}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={createAutocompleteService:i,createGeocoder:o},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){!function(){function e(e,t){for(var n in e){var i=e[n],o=this.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?this[n]=parseInt(o):i===!1?this[n]=null!==o:i instanceof Function?this[n]=null:this[n]=o,this[n]||0===this[n]||(this[n]=n in t?t[n]:i)}}function i(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function o(e,t){return s.call((t||document).querySelectorAll(e))}function r(){o("input.awesomplete").forEach(function(e){new Awesomplete(e)})}var u=function(t,n){var o=this;this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),n=n||{},e.call(this,{minChars:2,maxItems:10,autoFirst:!1,filter:u.FILTER_CONTAINS,sort:u.SORT_BYLENGTH,item:function(e,t){return i.create("li",{innerHTML:e.replace(RegExp(i.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},replace:function(e){this.input.value=e}},n),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;o.opened&&(13===t&&o.selected?(e.preventDefault(),o.select()):27===t?o.close():(38===t||40===t)&&(e.preventDefault(),o[38===t?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this)}),i.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&o.select(t)}}}),this.input.hasAttribute("list")?(this.list="#"+t.getAttribute("list"),t.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],u.all.push(this)};u.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&e.indexOf(",")>-1?this._list=e.split(/\s*,\s*/):(e=i(e),e&&e.children&&(this._list=s.apply(e.children).map(function(e){return e.textContent.trim()}))),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.ul&&null==this.ul.getAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this["goto"](0),i.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this["goto"](this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this["goto"](this.selected?this.index-1:e-1)},"goto":function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent),i.fire(this.input,"awesomplete-highlight")},select:function(e){if(e=e||this.ul.children[this.index]){var t;i.fire(this.input,"awesomplete-select",{text:e.textContent,preventDefault:function(){t=!0}}),t||(this.replace(e.textContent),this.close(),i.fire(this.input,"awesomplete-selectcomplete"))}},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this._list.filter(function(n){return e.filter(n,t)}).sort(this.sort).every(function(n,i){return e.ul.appendChild(e.item(n,t)),i<e.maxItems-1}),0===this.ul.children.length?this.close():this.open()):this.close()}},u.all=[],u.FILTER_CONTAINS=function(e,t){return RegExp(i.regExpEscape(t.trim()),"i").test(e)},u.FILTER_STARTSWITH=function(e,t){return RegExp("^"+i.regExpEscape(t.trim()),"i").test(e)},u.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:t>e?-1:1};var s=Array.prototype.slice;return i.create=function(e,t){var n=document.createElement(e);for(var o in t){var r=t[o];if("inside"===o)i(r).appendChild(n);else if("around"===o){var u=i(r);u.parentNode.insertBefore(n,u),n.appendChild(u)}else o in n?n[o]=r:n.setAttribute(o,r)}return n},i.bind=function(e,t){if(e)for(var n in t){var i=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,i)})}},i.fire=function(e,t,n){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0);for(var o in n)i[o]=n[o];e.dispatchEvent(i)},i.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),u.$=i,u.$$=o,"undefined"!=typeof self&&(self.Awesomplete=u),"object"==typeof n&&(t.exports=u),u}()},{}],4:[function(e,t,n){!function(e){function n(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,n(r,this),n(u,this))}function o(e){var t=this;return null===this._state?void this._deferreds.push(e):void c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(o){return void e.reject(o)}e.resolve(i)})}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void a(n(t,e),n(r,this),n(u,this))}this._state=!0,this._value=e,s.call(this)}catch(i){u.call(this,i)}}function u(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;t>e;e++)o.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function a(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(o){if(i)return;i=!0,n(o)}}var c="function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=this;return new i(function(i,r){o.call(n,new l(e,t,i,r))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&f(arguments[0])?arguments[0]:arguments);return new i(function(t,n){function i(r,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,function(e){i(r,e)},n)}e[r]=u,0===--o&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var o=e.length,r=0;r<e.length;r++)i(r,e[r])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,o=e.length;o>i;i++)e[i].then(t,n)})},i._setImmediateFn=function(e){c=e},"undefined"!=typeof t&&t.exports?t.exports=i:e.Promise||(e.Promise=i)}(this)},{}]},{},[1])(1)});
//# sourceMappingURL=./build/react-place.min.js.map